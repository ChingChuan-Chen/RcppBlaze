# solution from https://github.com/Rdatatable/data.table/issues/2161
CXX=$(shell "${R_HOME}"/bin/R CMD config CXX)
ifeq ($(shell $(CXX) -fopenmp -E -xc++ - 2>&1 >/dev/null && echo 'true'), true)
	PKG_CXXFLAGS=-I../inst/include
	PKG_LIBS=$(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS)
else
	PKG_CXXFLAGS=-I../inst/include $(SHLIB_OPENMP_CXXFLAGS)
	PKG_LIBS=$(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS) $(SHLIB_OPENMP_CXXFLAGS)
endif
